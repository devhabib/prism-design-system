@use 'variables' as v;

// ============================================
// Mixins - Reusable Style Utilities
// ============================================

// ---------------------------------------------
// Responsive Breakpoint Mixin
// Usage: @include respond-to('md') { ... }
// ---------------------------------------------
@mixin respond-to($breakpoint) {
  @if $breakpoint == 'sm' {
    @media (min-width: v.$breakpoint-sm) { @content; }
  } @else if $breakpoint == 'md' {
    @media (min-width: v.$breakpoint-md) { @content; }
  } @else if $breakpoint == 'lg' {
    @media (min-width: v.$breakpoint-lg) { @content; }
  } @else if $breakpoint == 'xl' {
    @media (min-width: v.$breakpoint-xl) { @content; }
  }
}

// ---------------------------------------------
// Typography Scale Mixin
// Usage: @include typography('lg', 'semibold')
// ---------------------------------------------
@mixin typography($size: 'base', $weight: 'normal') {
  $sizes: (
    'xs': v.$font-size-xs,
    'sm': v.$font-size-sm,
    'base': v.$font-size-base,
    'lg': v.$font-size-lg,
    'xl': v.$font-size-xl,
  );
  
  $weights: (
    'normal': v.$font-weight-normal,
    'medium': v.$font-weight-medium,
    'semibold': v.$font-weight-semibold,
    'bold': v.$font-weight-bold,
  );
  
  font-size: map-get($sizes, $size);
  font-weight: map-get($weights, $weight);
  line-height: 1.5;
}

// ---------------------------------------------
// Focus Ring Mixin (Accessibility)
// Provides consistent keyboard focus styling
// ---------------------------------------------
@mixin focus-ring() {
  outline: 2px solid var(--color-border-focus);
  outline-offset: 2px;
}

// ---------------------------------------------
// Button Reset Mixin
// Removes all default button styles
// ---------------------------------------------
@mixin button-reset() {
  appearance: none;
  background: none;
  border: none;
  padding: 0;
  margin: 0;
  cursor: pointer;
  font: inherit;
}

// ---------------------------------------------
// Flexbox Center Mixin
// ---------------------------------------------
@mixin flex-center() {
  display: flex;
  align-items: center;
  justify-content: center;
}

// ---------------------------------------------
// Truncate Text Mixin
// Adds ellipsis for overflowing text
// ---------------------------------------------
@mixin truncate() {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

// ---------------------------------------------
// Visually Hidden (Screen Reader Only)
// Hides element visually but keeps accessible
// ---------------------------------------------
@mixin sr-only() {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

// ---------------------------------------------
// Elevation Mixin (Material-like shadows)
// Usage: @include elevation(2)
// Levels: 0-5 (0 = flat, 5 = highest)
// ---------------------------------------------
@mixin elevation($level: 1) {
  @if $level == 0 {
    box-shadow: none;
  } @else if $level == 1 {
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  } @else if $level == 2 {
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  } @else if $level == 3 {
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  } @else if $level == 4 {
    box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  } @else if $level == 5 {
    box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);
  }
}

// ---------------------------------------------
// Aspect Ratio Mixin
// Usage: @include aspect-ratio(16, 9)
// ---------------------------------------------
@mixin aspect-ratio($width, $height) {
  aspect-ratio: #{$width} / #{$height};
  object-fit: cover;
  width: 100%;
}
