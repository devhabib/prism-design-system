// ============================================
// Card Component Styles
// All styles applied directly to :host (no wrapper)
// ============================================

@use '../../styles/abstracts/mixins' as m;
@use '../../styles/abstracts/variables' as v;

// ============================================
// Host Element - Base Card Styles
// ============================================
:host {
  display: block;
  background-color: var(--color-surface, #ffffff);
  border-radius: var(--radius-lg, 0.75rem);
  overflow: hidden;
  border: 1px solid var(--color-border, #e5e7eb);
  transition: all var(--transition-normal, 250ms ease-in-out);
}

// ============================================
// Elevation Levels (0-5)
// ============================================
:host(.prism-card--elevation-0) {
  box-shadow: none;
}

:host(.prism-card--elevation-1) {
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
}

:host(.prism-card--elevation-2) {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
}

:host(.prism-card--elevation-3) {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
}

:host(.prism-card--elevation-4) {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
}

:host(.prism-card--elevation-5) {
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

// ============================================
// Hoverable State (lift animation)
// ============================================
:host(.prism-card--hoverable) {
  cursor: pointer;

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
    border-color: var(--color-primary-light, #dbeafe);
  }

  &:active {
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
  }
}

// ============================================
// Slot Styles
// ============================================

// Media: Full-width images with aspect ratio support
.card__media {
  width: 100%;
  overflow: hidden;

  &:empty {
    display: none;
  }

  ::ng-deep {
    img, video {
      width: 100%;
      height: auto;
      display: block;
      object-fit: cover;
    }
  }
}

// Header: Title and metadata area
.card__header {
  padding: var(--space-md, 1rem) var(--space-md, 1rem) 0;

  &:empty {
    display: none;
  }

  ::ng-deep {
    h1, h2, h3, h4, h5, h6 {
      margin: 0;
      color: var(--color-text-primary, #111827);
      font-size: 1rem;
      font-weight: 600;
    }

    .subtitle {
      color: var(--color-text-secondary, #6b7280);
      font-size: 0.875rem;
      margin-top: var(--space-xs, 0.25rem);
    }
  }
}

// Body: Main content area
.card__body {
  padding: var(--space-md, 1rem);
  flex: 1;
  color: var(--color-text-secondary, #6b7280);

  &:empty {
    display: none;
  }

  ::ng-deep {
    p {
      margin: 0;
      line-height: 1.6;
    }

    p + p {
      margin-top: var(--space-sm, 0.5rem);
    }
  }
}

// Actions: Buttons at the bottom
.card__actions {
  padding: var(--space-sm, 0.5rem) var(--space-md, 1rem) var(--space-md, 1rem);
  display: flex;
  gap: var(--space-sm, 0.5rem);
  justify-content: flex-end;
  align-items: center;
  border-top: 1px solid var(--color-border, #e5e7eb);

  &:empty {
    display: none;
  }
}

// No padding variant
:host(.prism-card--no-padding) {
  .card__header,
  .card__body,
  .card__actions {
    padding: 0;
  }

  .card__actions {
    border-top: none;
  }
}

// ============================================
// Responsive Adjustments
// ============================================
@media (max-width: 639px) {
  .card__header,
  .card__body {
    padding: var(--space-sm, 0.5rem);
  }

  .card__actions {
    padding: var(--space-xs, 0.25rem) var(--space-sm, 0.5rem) var(--space-sm, 0.5rem);
    flex-direction: column;

    ::ng-deep > * {
      width: 100%;
    }
  }
}
